<!DOCTYPE html>

<html lang="pt-BR">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Modal de Cobrança</title>

    <style>

        /* Estilos básicos para o modal */

        .modal {

            display: block; /* Altere para 'none' para ocultar por padrão */

            position: fixed;

            left: 0;

            top: 0;

            width: 100%;

            height: 100%;

            background-color: rgba(0, 0, 0, 0.5);

            z-index: 1;

            overflow: auto;

        }


        .modal-content {

            background-color: #fefefe;

            margin: 15% auto;

            padding: 20px;

            border: 1px solid #888;

            width: 80%;

            max-width: 600px;

            border-radius: 8px;

        }


        .close {

            color: #aaa;

            float: right;

            font-size: 28px;

            font-weight: bold;

        }


        .close:hover,

        .close:focus {

            color: black;

            text-decoration: none;

            cursor: pointer;

        }


        .modal-body {

            max-height: 300px;

            overflow-y: auto;

            margin: 20px 0;

        }


        .modal-footer {

            text-align: center;

        }


        button {

            margin: 5px;

            padding: 10px 20px;

            font-size: 16px;

            cursor: pointer;

            border: none;

            border-radius: 4px;

            transition: background-color 0.3s ease, color 0.3s ease;

        }


        button:disabled {

            background-color: transparent;

            color: #ccc; /* Cor do texto quando desabilitado */

            cursor: not-allowed;

            border: 1px solid #ccc; /* Bordas visíveis para botão desativado */

        }


        #ciente {

            background-color: #4CAF50;

            color: white;

        }


        #negociar {

            background-color: #008CBA;

            color: white;

        }


        #fechar {

            background-color: transparent;

            color: #ccc;

            cursor: not-allowed;

        }


        .enabled {

            background-color: grey;

            color: white;

            cursor: pointer;

            border: none;

        }


        .relatorio-texto {

            text-align: center;

            font-size: 18px;

            font-weight: bold;

            padding: 20px;

            background-color: #f1f1f1;

            border-radius: 8px;

            border: 1px solid #ccc;

            margin-top: 20px;

        }


    </style>

</head>

<body>


<div id="modal" class="modal">

  <div class="modal-content">

    <span class="close" onclick="fechaModal()">X</span>

    <div class="modal-body" onscroll="verificaRolagem()">

      <!-- Simulação de conteúdo textual -->

      <div class="relatorio-texto">

        Atenção: Dívidas Pendentes

      </div>

      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur blandit tempus porttitor. Cras mattis consectetur purus sit amet fermentum. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus...</p>

      <p>...Continua o conteúdo do relatório...</p>

    </div>

    <div class="modal-footer">

      <button id="ciente" onclick="registroCiente()">Estou Ciente</button>

      <button id="negociar" onclick="abrirWhatsApp()">Negociar</button>

      <button id="fechar" onclick="fechaModal()" disabled>Fechar</button>

    </div>

  </div>

</div>


<script>

  function verificaRolagem() {

    var modalBody = document.querySelector('.modal-body');

    if (modalBody.scrollTop + modalBody.clientHeight >= modalBody.scrollHeight) {

      habilitarBotaoFechar();

    }

  }


  function registroCiente() {

    console.log('Usuário ciente.');

    habilitarBotaoFechar();

  }


  function abrirWhatsApp() {

    window.open('https://wa.me/1234567890', '_blank');

    habilitarBotaoFechar();

  }


  function habilitarBotaoFechar() {

    var botaoFechar = document.getElementById('fechar');

    botaoFechar.disabled = false;

    botaoFechar.style.backgroundColor = 'grey';

    botaoFechar.style.color = 'white';

    botaoFechar.style.cursor = 'pointer';

    botaoFechar.style.border = 'none';

  }


  function fechaModal() {

    document.getElementById('modal').style.display = 'none';

  }

</script>


</body>

</html>